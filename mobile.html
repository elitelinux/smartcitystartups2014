<!DOCTYPE html>
<html lang="en" ng-app="scs414">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no">
    <meta name="description" containernt="Smart City Startups 2014">
    <meta name="author" content="Stonly Baptiste">
    <link rel="shortcut icon" href="assets/img/favicon-scs.ico">

    <title>Smart City Startups 2014</title>

    <!-- Bootstrap core CSS -->
    <link href="assets/css/bootstrap.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="assets/css/main.css" rel="stylesheet">

		<link rel="stylesheet" type="text/css" href="assets/css/default.css" />
		<link rel="stylesheet" type="text/css" href="assets/css/component.css" />
		<script src="assets/js/modernizr.custom.js"></script>

    <!-- Fonts from Google Fonts -->
	<link href='http://fonts.googleapis.com/css?family=Lato:300,400,900' rel='stylesheet' type='text/css'>
    <style>
    	[ng\:cloak], [ng-cloak], [data-ng-cloak], [x-ng-cloak], .ng-cloak, .x-ng-cloak {
  			display: none !important;
		}
    </style>
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>

    <!-- Fixed navbar -->
    <div class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" id="mobile_bar" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#/" id="menu_top"><b>SMART CITY STARTUPS 2014</b>

          </a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav navbar-right" onclick="$('#mobile_bar').click()">
            <li><a id="menu_decription" href="#/agenda" class="btn btn-outline-inverse">Agenda</a></li>
            <li><a id="menu_decription" href="#/maps" class="btn btn-outline-inverse">Maps</a></li>
            <li><a id="menu_decription" href="#/people" class="btn btn-outline-inverse">People</a></li>
            <li><a id="menu_decription" href="#/groups" class="btn btn-outline-inverse">Groups</a></li>
            <li><a id="menu_decription" href="#/vote" class="btn btn-outline-inverse">Vote</a></li>
            <li><a id="menu_decription" href="#/about" class="btn btn-outline-inverse">About</a></li>
          </ul>
          <div class="" style="display:none; top: 39px;position: fixed;height: 5px;width: 50px;background-color: white;left: 857px;" id="menu_bar"></div>
        </div><!--/.nav-collapse -->
      </div>
    </div>

		<div class="container" ng-view>
		</div>
		<hr>
		<p class="centered">&copy; <a href="http://Urban.Us">Urban.Us</a> 2014 - All logos are property of their respective owners</p>
	</div><!-- /container -->
	

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.2/jquery.min.js"></script>

    <script src="assets/js/bootstrap.min.js"></script>
    <script src="assets/js/jquery.appear.js"></script>
    <script src="assets/js/angular.js"></script>
    <script src="http://code.angularjs.org/1.0.6/angular-sanitize.js"></script>

    <script src="assets/js/jquery.panzoom.js"></script>
 
    <script type="text/javascript">
    //credit http://upshots.org/javascript/jquery-test-if-element-is-in-viewport-visible-on-screen
		$.fn.isOnScreen = function(){
		     
		    var win = $(window);
		     
		    var viewport = {
		        top : win.scrollTop(),
		        left : win.scrollLeft()
		    };
		    viewport.right = viewport.left + win.width();
		    viewport.bottom = viewport.top + win.height();
		     
		    var bounds = this.offset();
		    bounds.right = bounds.left + this.outerWidth();
		    bounds.bottom = bounds.top + this.outerHeight();
		     
		    return (!(viewport.right < bounds.left || viewport.left > bounds.right || viewport.bottom < bounds.top || viewport.top > bounds.bottom));
		     
		};

    </script> 	    
    <script>
    //credit http://css-tricks.com/snippets/jquery/smooth-scrolling/
    $(function() {
	  $('a[href*=#]:not([href=#])').click(function() {
	    if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'') && location.hostname == this.hostname) {
	      	var target = $(this.hash);
	      	target = target.length ? target : $('[name=' + this.hash.slice(1) +']');
	      	console.log(target.selector)
	      	if (target.selector.indexOf('target_description') > -1) {
	      		ga('send', 'pageview', {'page': '/#what','title': 'Smart City Startups - What'});
	        	window.history.pushState({},'Smart City Startups - What','#what')
	        }	   
	      	if (target.selector.indexOf('target_participants') > -1) {
	      		ga('send', 'pageview', {'page': '/#who','title': 'Smart City Startups - Who'});
	        	window.history.pushState({},'Smart City Startups - Who','#who')
	        }	 
	      	if (target.selector.indexOf('target_location') > -1) {
	      		ga('send', 'pageview', {'page': '/#where','title': 'Smart City Startups - Where'});	      		
	        	window.history.pushState({},'Smart City Startups - Where','#where')
	        }	 

	      	if (target.selector.indexOf('target_schedule') > -1) {
	      		ga('send', 'pageview', {'page': '/#agenda','title': 'Smart City Startups - Agenda'});	      		
	        	window.history.pushState({},'Smart City Startups - Agenda','#agenda')
	        }	 
	      	if (target.selector.indexOf('target_sponsors') > -1) {
	      		ga('send', 'pageview', {'page': '/#how','title': 'Smart City Startups - How'});	      		
	        	window.history.pushState({},'Smart City Startups - How','#how')
	        }	 	        	        	        	           	
	      	if (target.selector.indexOf('target_top') > -1) {
	      		ga('send', 'pageview', {'page': '/','title': 'Smart City Startups'});	      		
	        	window.history.pushState({},'Smart City Startups','/')

	        	$('html,body').animate({
	        	  scrollTop: 0
	        	}, 1000);

	        	return false;
	      	}
	      	if (target.length) {
	        	$('html,body').animate({
	        	  scrollTop: target.offset().top - 110
	        	}, 1000);
	        	//window.history.pushState({},'Smart City Startups','/')
	        	return false;
	      	}

	    }
	  });
	  $("[id^='menu_']").on('click', function(){
	  		if($('#mobile_bar').is(":visible") && $('#menu_participants').is(':visible')){
	  			$('#mobile_bar').click();
	  		}

	  })
 	});
 	</script>
 
    <script type="text/javascript">
    	function moveMenu(id){
    		var curL = document.getElementById('menu_bar').getBoundingClientRect().left;
    		var targetL = document.getElementById(id).getBoundingClientRect().left + 10;
    		}
    	
    </script>

	<script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	  ga('create', 'UA-47305010-1', 'smartcitystartups.com');
	  ga('send', 'pageview');

	</script>
	<script>
	//getUrlVars from http://papermashup.com/read-url-get-variables-withjavascript/
		function getUrlVars() {
			var vars = {};
			var parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(m,key,value) {
				vars[key] = value;
			});
			return vars;
		}
		var app = angular.module( 'scs414', ['ngSanitize'] );
		app.config(['$routeProvider', '$httpProvider',
		  function($routeProvider, $httpProvider) {
		    $routeProvider.when('/sched', {
		      title: 'Schedule',
		      templateUrl: '/assets/templates/mobile_sched.tmpl.html',
		      controller: 'SchedCtrl'
		    });
		    $routeProvider.when('/maps', {
		      title: 'Maps',
		      templateUrl: '/assets/templates/mobile_map.tmpl.html',
		      controller: 'MapCtrl'
		    });		   
		    $routeProvider.when('/people', {
		      title: 'People',
		      templateUrl: '/assets/templates/mobile_people.tmpl.html',
		      controller: 'PeopleCtrl'
		    });		
		    $routeProvider.otherwise({
		      redirectTo: '/sched'
		    });

		  }
		], ['$locationProvider',
		  function($locationProvider) {
		    $locationProvider.html5Mode(true);
		  }
		]);

		app.controller( 'PeopleCtrl', function( $scope, $http, $compile ) {
			$scope.people = [
						{url: 'http://http://privateadvising.com/',
						logo: 'pag.jpg',
						logo_width: 240,
						domain: 'privateadvising.com',
						name: 'JP Capello',
						title: 'Owner',
						twitter: 'twt',
						linkedin: 'ln'
						},
						
						{url: 'http://madeinles.org/',
						logo: 'mileslogo.png',
						logo_width: 140,
						domain: 'madeinles.org'},

						{url: 'https://twitter.com/Sustain305',
						logo: 'sustainventures.png',
						logo_width: 140,
						domain: 'sustainventures.com'},

						{url: 'http://www.straat.co/',
						logo: 'straat.png',
						logo_width: 140,
						domain: 'straat.co'},

						{url: 'http://www.bmw.com/com/en/insights/corporation/bmwi_ventures/index.html',
						logo: '4bmw_logo.png',
						logo_width: 140,
						domain: 'bmw.com'},

					 	{url: 'http://www.architizer.com/',
					 	logo: 'architizer.png',
					 	logo_width: 240,
					 	domain: 'architizer.com'
					 	},

					  	{url: 'http://www.brck.com/',
					  	logo: 'brck-logo.png',
					  	logo_width: 140,
					  	domain: 'brck.com'
					  	},

					  	{url: 'http://www.dash.by/',
					  	logo: 'dash-logo-web.png',
					  	logo_width: 140,
					  	domain: 'dash.by'
					  	},

					  	{url: 'http://www.seamlessdocs.com/',
					  	logo: 'seamlessdocs.png',
					  	logo_width: 240,
					  	domain: 'seamlessdocs.com'
					  	},

					  	{url: 'http://www.whatupbridge.com/',
					  	logo: 'wub-logo.png',
					  	logo_width: 240,
					  	domain: 'whatupbridge.com',
					  	},

					  	{url: 'http://www.kiwi.ki/',
					  	logo: 'kiwiki-logo.png',
					  	logo_width: 140,
					  	domain: 'kiwi.ki'
					  	},

					  	{url: 'http://www.vastvc.com/',
					  	logo: 'vast-logo.png',
					  	logo_width: 240,
					  	domain: 'vastvc.com'
					  	},

					  	{url: 'http://www.kairos.io/',
					  	logo: 'kairos-logo-blue-trans.png',
					  	logo_width: 240,
					  	domain: 'kairos.io'
					  	},

					  	{url: 'http://www.cleanweb.co/',
					  	logo: 'Cleanweblogo_lightbg-176x136.png',
					  	logo_width: 240,
					  	domain: 'cleanweb.co'
					  	},

					  	{url: 'http://www.rach.io/',
					  	logo: 'rachio.jpg',
					  	logo_width: 240,
					  	domain: 'rach.io'
					  	},

					  	{url: 'http://www.learnernation.com/',
					  	logo: 'leanernation-logo.jpg',
					  	logo_width:240,
					  	domain:'learnernation.com'
					  	},

					  	{url: 'http://www.citymart.com/',
					  	logo: 'CityMartLogo.png',
					  	logo_width: 240,
					  	domain: 'citymart.com'
					  	},

					  {url:'http://www.thetransitapp.com/',
					  	logo:'transitapp.png',
					  	logo_width:140,
					  	domain: 'thetransitapp.com'
					  	},

					  	{url:'http://en.seeclickfix.com/',
					  	logo: 'scflogo.jpg',
					  	logo_width:240,
					  	domain: 'seeclickfix.com'},

					  	{url:'http://tumml.org/',
					  	logo:'tumml.png',
					  	logo_width:140,
					  	domain:'tumml.org'},

					  	{url: 'http://www.codeformiami.org/',
					  	logo:'code-for-miami-square-logo.png',
					  	logo_width:140,
					  	domain:'codeformiami.org'},

					  	{url:'http://www.newurbanmechanics.org/',
					  	logo:'newurbanmechanics.png',
					  	logo_width:240,
					  	domain:'newurbanmechanics.org'},

					  	{url:'http://www.refreshmiami.com/',
					  	logo:'refreshmiami.png',
					  	logo_width:240,
					  	domain:'refreshmiami.com'},

					  	{url:'http://www.livingcities.org/',
					  	logo:'livingcities.png',
					  	logo_width:140,
					  	domain:'livingcities.org'},

					  	{url:'http://www.omidyar.com/',
					  	logo:'Omidyar_Network.jpg',
					  	logo_width:140,
					  	domain:'omidyar.com'},

					  	{url: 'http://www.miamidade.gov/',
					  	logo:'miami-dade.jpg',
					  	logo_width:140,
					  	domain:'miamidade.gov'},

					  	{url:'http://www.neighbor.ly/',
					  	logo:'neighborly-logo.png',
					  	logo_width:240,
					  	domain:'neighbor.ly'},

					  	{url:'http://pwrstation.com/',
					  	logo:'pwrstation.png',
					  	logo_width:240,
					  	domain:'pwrstation.com'},

					  	{url:'http://publicstuff.com/',
					  	logo:'publicstuff-logo.png',
					  	logo_width:240,
					  	domain:'publicstuff.com'},

					  	{url:'http://www.constantcontact.com/',
					  	logo:'constant_contact_logo.png',
					  	logo_width:240,
					  	domain:'constantcontact.com'},	

					  	{url:'http://www.spravwater.com/',
					  	logo:'spravwater.jpg',
					  	logo_width:240,
					  	domain:'spravwater.com'},

					  	{url:'http://www.cyclehop.com/',
					  	logo:'cyclehop-logo.png',
					  	logo_width:240,
					  	domain:'cyclehop.com'},

					  	{url:'http://ccresfl.com/',
					  	logo:'ccresidential.png',
					  	logo_width:240,
					  	domain:'ccresfl.com'},

					  	{url:'http://pedleymillin.com/',
					  	logo:'pedleymillin.jpg',
					  	logo_width:240,
					  	domain:'pedleymillin.com'},	

					  	{url:'http://international.gc.ca/',
					  	logo:'ccg.jpg',
					  	logo_width:140,
					  	domain:'international.gc.ca'},

					  	{url:'http://neweconomyinitiative.org/',
					  	logo:'nei_logo.png',
					  	logo_width:240,
					  	domain:'neweconomyinitiative.org'},

					  	{url:'http://birdi.io/',
					  	logo:'birdi-logo.png',
					  	logo_width:140,
					  	domain:'birdi.io'},

					  	{url:'#',
					  	logo:'tresmares.jpg',
					  	logo_width:140,
					  	domain:'Tres Mares Group'},

					  	{url:'http://makeloveland.com/',
					  	logo:'loveland.png',
					  	logo_width:240,
					  	domain:'makeloveland.com'},

					  	{url:'https://smartprocure.us/',
					  	logo:'smartprocure.jpg',
					  	logo_width:200,
					  	domain:'smartprocure.us'},	

					  	{url:'http://republicbike.com/',
					  	logo:'republicbike.png',
					  	logo_width:240,
					  	domain:'republicbike.com'},		

					  	{url:'https://wagner.nyu.edu/rudincenter/',
					  	logo:'nyu.jpg',
					  	logo_width:140,
					  	domain:'wagner.nyu.edu'},	

					  	{url:'http://www.kauffman.org/',
					  	logo:'kauffman.png',
					  	logo_width:240,
					  	domain:'kauffman.org'},	

					  	{url:'http://www.p3gm.com/',
					  	logo:'p3gm.png',
					  	logo_width:140,
					  	domain:'p3gm.com'},		  					  	

					  	{url:'http://www.hraadvisors.com/',
					  	logo:'hraadvisors-logo.png',
					  	logo_width:240,
					  	domain:'hraadvisors.com'},	

					  	{url:'http://www.urban4m.com/',
					  	logo:'urban4m.jpg',
					  	logo_width:240,
					  	domain:'urban4m.com'},

					  	{url:'http://www.techcocktail.com/',
					  	logo:'techcocktail.jpg',
					  	logo_width:240,
					  	domain:'techcocktail.com'},			

					  	{url:'http://www.bostonglobalventures.com/',
					  	logo:'bgv.png',
					  	logo_width:240,
					  	domain:'bostonglobalventures.com'},		

					  	{url:'http://codeforamerica.org/about/startups/',
					  	logo:'cfa.png',
					  	logo_width:240,
					  	domain:'codeforamerica.org'},	

					  	{url:'http://www.trovedata.com/',
					  	logo:'trove.png',
					  	logo_width:240,
					  	domain:'trovedata.com'},

					  	{url:'http://www.zipcar.com/',
					  	logo:'zipcar.gif',
					  	logo_width:140,
					  	domain:'zipcar.com'},

					  	{url:'http://socialbicycles.com/',
					  	logo:'sobi.png',
					  	logo_width:200,
					  	domain:'socialbicycles.com'},

					  	{url:'http://placemeter.com/',
					  	logo:'placemeter.png',
					  	logo_width:240,
					  	domain:'placemeter.com'},

					  	{url:'http://greaterplaces.com/',
					  	logo:'greaterplaces.png',
					  	logo_width:240,
					  	domain:'greaterplaces.com'},

					  	{url:'http://www.opportunityspace.org/',
					  	logo:'opportunityspace.jpg',
					  	logo_width:240,
					  	domain:'opportunityspace.org'},		

					  	{url:'http://weathercloud.co/',
					  	logo:'weathercloud.png',
					  	logo_width:240,
					  	domain:'weathercloud.co'},			

					  	{url:'http://www.univision.com/',
					  	logo:'univison.png',
					  	logo_width:140,
					  	domain:'univision.com'},

					  	{url:'http://bostonnewtech.org/',
					  	logo:'bostonnewtech.png',
					  	logo_width:240,
					  	domain:'bostonnewtech.org'},

					  	{url:'https://parkjockey.com/',
					  	logo:'parkjockey.jpg',
					  	logo_width:240,
					  	domain:'parkjockey.com'},							  		  		  				  	
					];
		});


		app.controller( 'MapCtrl', function( $scope, $http, $compile ) {
			$('#indoorMap').panzoom({
				minScale: 10
			});

		});

		app.controller( 'SchedCtrl', function( $scope ) {
			var maxTimeIndex;
			var d = new Date();
			var localTime = d.toISOString();
			$( "time" ).each( function( index, element ){
				var schedTime = $( this )[0].attributes.getNamedItem('datetime').value ;
			    if(localTime >= schedTime){
			    	console.log(index, localTime, schedTime)
			    	maxTimeIndex = index;
			    }

			});
			if(maxTimeIndex){
				var topScroll = $($( "time" )[maxTimeIndex]).offset().top
				console.log(topScroll)
				$('html,body').animate({
		        	  scrollTop: topScroll - 75
		        }, 1000);
			}
			

		});

	</script>
	<!-- AddThisEvent -->
	<script type="text/javascript" src="http://js.addthisevent.com/atemay.js"></script>	
  </body>
</html>
<!-- box-shadow: 0 0 0 8px #afdcf8; -->
